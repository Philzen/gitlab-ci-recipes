

### 0. Add User

`sudo mkdir gitlab_ci`
`sudo pw useradd gitlab_ci -s /usr/sbin/nologin -c "Gitlab CI User"`
`sudo chown gitlab_ci:gitlab_ci gitlab_ci`

### 1. Required Packages

Install using your favourite port manager (i.e. portmaster). Needed ports (from install dir `/usr/ports/`) are

ftp/wget
ftp/curl
textproc/libxml2
textproc/libxslt
databases/redis
devel/icu
devel/readline
devel/git
textproc/libyaml

NB: This list is unfinished yet.

### 2. Installing RVM for gitlab_ci user


```
cd /usr/home/gitlab_ci
sudo -u gitlab_ci bash
curl -L https://get.rvm.io | bash -s stable --ruby
echo "source /usr/home/gitlab_ci/.rvm/scripts/rvm" >> ~/.bashrc
exit
```

### 3. DB Setup - only tested with [PostgreSql](../postgres/install.md)

### 4. Get Code - works as mentioned in original install instructions

### 5. Setup Application

```
# act as gitlab_ci user
sudo -u gitlab_ci bash

# create temp folder for pids
mkdir -p /tmp/pids

# install dependencies

